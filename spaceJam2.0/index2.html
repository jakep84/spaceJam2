
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <title>Hello World!</title>
    <script src="jquery-1.12.4.min.js"></script>
    <script src="../Build/Cesium/Cesium.js"></script>
    <style type="text/css">
        @import url(../Build/Cesium/Widgets/widgets.css);

        html, body, #cesiumContainer {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        .toolbar-left {
            display: block;
            position: absolute;
            top: 5px;
            left: 5px;
        }
    </style>
</head>
<body>
<div id="cesiumContainer"></div>
<div id="loadingOverlay"><h1>Welcome to spaceJam</h1></div>
<div class="toolbar-left">
<button id='MQ-9' onclick="createMq9">View MQ-9</button>
<!-- <button id='threat' onclick="alert('You clicked threat!');">View Threat</button> -->
<!-- <button id='fire' onclick="fire();">Fire AGM-114</button> -->
</div>
<script>
Cesium.BingMapsApi.defaultKey = 'lCTZtg5mZdx8IqETpNu0~1mCU8hrQlgW6QZ4Wd8SdWQ~AnDBosGQEY5KZIk9B_PxLxfYYv61p3ZcYrHeacJ3gGoAwIZ8Chkc-mllvOrOUXJj';
var terrainModels = Cesium.createDefaultTerrainProviderViewModels();
var viewer = new Cesium.Viewer('cesiumContainer', {
    terrainProviderViewModels: terrainModels,
    selectedTerrainProviderViewModel: terrainModels[1]
  });
var scene = viewer.scene;
var ellipsoid = viewer.scene.globe.ellipsoid;
var pointOfInterest = Cesium.Cartographic.fromDegrees(
    -112.729, 36.10883,6500, new Cesium.Cartographic());
var enemyLocation = Cesium.Cartographic.fromDegrees(
    -112.6595, 36.10883,1326, new Cesium.Cartographic());

viewer.camera.flyTo({
        destination: ellipsoid.cartographicToCartesian(pointOfInterest,
            new Cesium.Cartesian3())
});
Cesium.sampleTerrain(viewer.terrainProvider, 9, [ pointOfInterest ])
.then(function(samples) {
    console.log('Height in meters is: ' + samples[0].height);
});
viewer.scene.globe.depthTestAgainstTerrain = true;

function createMq9() {
    var height = 6400.00;
    var position = Cesium.Cartesian3.fromDegrees(-112.729, 36.10883, height);
    var heading = Cesium.Math.toRadians(270);
    var pitch = 0;
    var roll = 0;
    var orientation = Cesium.Transforms.headingPitchRollQuaternion(position, heading, pitch, roll);
    var entity = viewer.entities.add({
        name : "MQ-9",
        height : height,
        position : position,
        heading : heading,
        pitch : pitch,
        roll : roll,
        orientation : orientation,
        model : {
            uri : '/spaceJam2.0/mq9.glb',
            scale : 1
    }
  })
};
</script>
</body>
</html>
